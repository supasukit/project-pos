# POS System

à¸£à¸°à¸šà¸š Point of Sale (POS) à¸—à¸µà¹ˆà¸£à¸­à¸‡à¸£à¸±à¸šà¸—à¸±à¹‰à¸‡ Desktop Application (Electron) à¹à¸¥à¸° Web Application à¹‚à¸”à¸¢à¹ƒà¸Šà¹‰à¸à¸²à¸™à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸£à¹ˆà¸§à¸¡à¸à¸±à¸™

## ğŸš€ Features

### âœ… à¸£à¸°à¸šà¸šà¸—à¸µà¹ˆà¸à¸£à¹‰à¸­à¸¡à¹ƒà¸Šà¹‰à¸‡à¸²à¸™
- **Authentication System** - à¸¥à¹‡à¸­à¸à¸­à¸´à¸™/à¸ªà¸¡à¸±à¸„à¸£à¸ªà¸¡à¸²à¸Šà¸´à¸ à¸à¸£à¹‰à¸­à¸¡à¸£à¸°à¸šà¸šà¸¥à¸·à¸¡à¸£à¸«à¸±à¸ªà¸œà¹ˆà¸²à¸™
- **Product Management** - à¸ˆà¸±à¸”à¸à¸²à¸£à¸ªà¸´à¸™à¸„à¹‰à¸² à¹€à¸à¸´à¹ˆà¸¡/à¹à¸à¹‰à¹„à¸‚/à¸¥à¸š à¸à¸£à¹‰à¸­à¸¡à¸£à¸°à¸šà¸šà¸šà¸²à¸£à¹Œà¹‚à¸„à¹‰à¸”
- **Customer Management** - à¸ˆà¸±à¸”à¸à¸²à¸£à¸¥à¸¹à¸à¸„à¹‰à¸² à¸£à¸°à¸šà¸šà¹€à¸„à¸£à¸”à¸´à¸•/à¹€à¸‡à¸´à¸™à¸ªà¸”
- **POS System** - à¸£à¸°à¸šà¸šà¸‚à¸²à¸¢à¸«à¸™à¹‰à¸²à¸£à¹‰à¸²à¸™ à¸£à¸­à¸‡à¸£à¸±à¸šà¸à¸²à¸£à¸Šà¸³à¸£à¸°à¹à¸šà¸šà¹€à¸‡à¸´à¸™à¸ªà¸”à¹à¸¥à¸°à¹€à¸„à¸£à¸”à¸´à¸•
- **Sales Management** - à¸šà¸±à¸™à¸—à¸¶à¸à¸à¸²à¸£à¸‚à¸²à¸¢ à¸­à¸±à¸à¹€à¸”à¸—à¸ªà¸•à¹‡à¸­à¸à¸­à¸±à¸•à¹‚à¸™à¸¡à¸±à¸•à¸´
- **Dashboard** - à¸ªà¸–à¸´à¸•à¸´à¸¢à¸­à¸”à¸‚à¸²à¸¢ à¸à¸£à¸²à¸Ÿ à¸›à¸£à¸°à¸§à¸±à¸•à¸´à¸à¸²à¸£à¸‚à¸²à¸¢
- **Stock Management** - à¸ˆà¸±à¸”à¸à¸²à¸£à¸ªà¸•à¹‡à¸­à¸à¸ªà¸´à¸™à¸„à¹‰à¸² à¹à¸ˆà¹‰à¸‡à¹€à¸•à¸·à¸­à¸™à¸ªà¸´à¸™à¸„à¹‰à¸²à¹ƒà¸à¸¥à¹‰à¸«à¸¡à¸”
- **Customer Credit System** - à¸£à¸°à¸šà¸šà¸„à¹‰à¸²à¸‡à¸Šà¸³à¸£à¸°à¹à¸¥à¸°à¸£à¸±à¸šà¸Šà¸³à¸£à¸°à¹€à¸‡à¸´à¸™
- **Automatic Pricing** - à¸£à¸²à¸„à¸²à¸ªà¹ˆà¸‡à¸­à¸±à¸•à¹‚à¸™à¸¡à¸±à¸•à¸´à¹€à¸¡à¸·à¹ˆà¸­à¸‹à¸·à¹‰à¸­à¸–à¸¶à¸‡à¸ˆà¸³à¸™à¸§à¸™à¸‚à¸±à¹‰à¸™à¸•à¹ˆà¸³
- **Customer Status Management** - à¸£à¸°à¸šà¸šà¸ˆà¸±à¸”à¸à¸²à¸£à¸ªà¸–à¸²à¸™à¸°à¸¥à¸¹à¸à¸„à¹‰à¸²à¸•à¸²à¸¡à¸à¸¤à¸•à¸´à¸à¸£à¸£à¸¡à¸à¸²à¸£à¸‹à¸·à¹‰à¸­

## ğŸ—ï¸ Architecture

### Frontend
- **Desktop**: Electron Application
- **Web**: Browser-based Application
- **Shared UI**: à¹ƒà¸Šà¹‰à¸«à¸™à¹‰à¸²à¸šà¹‰à¸²à¸™à¹€à¸”à¸µà¸¢à¸§à¸à¸±à¸™à¸—à¸±à¹‰à¸‡ Desktop à¹à¸¥à¸° Web

### Backend
- **Framework**: Express.js
- **Database**: MongoDB with Mongoose
- **Authentication**: JWT Token System
- **Email**: Gmail SMTP (à¸ªà¸³à¸«à¸£à¸±à¸š forgot password)

### Database Collections
- `users` - à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸œà¸¹à¹‰à¹ƒà¸Šà¹‰à¹à¸¥à¸°à¸£à¹‰à¸²à¸™
- `customers` - à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸¥à¸¹à¸à¸„à¹‰à¸²à¹à¸¥à¸°à¸¢à¸­à¸”à¸„à¹‰à¸²à¸‡à¸Šà¸³à¸£à¸°  
- `products` - à¸ªà¸´à¸™à¸„à¹‰à¸² à¸£à¸²à¸„à¸²à¸›à¸¥à¸µà¸/à¸ªà¹ˆà¸‡/à¹€à¸„à¸£à¸”à¸´à¸•
- `orders` - à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸à¸²à¸£à¸‚à¸²à¸¢
- `order_items` - à¸£à¸²à¸¢à¸à¸²à¸£à¸ªà¸´à¸™à¸„à¹‰à¸²à¹ƒà¸™à¹à¸•à¹ˆà¸¥à¸°à¸­à¸­à¹€à¸”à¸­à¸£à¹Œ

## ğŸ“‹ Prerequisites

- **Node.js** >= 16.0.0
- **npm** >= 8.0.0
- **MongoDB** (Local à¸«à¸£à¸·à¸­ Cloud)
- **Gmail Account** (à¸ªà¸³à¸«à¸£à¸±à¸š email system)

## ğŸ› ï¸ Installation

### 1. Clone Repository
```bash
git clone https://github.com/supasukit/project-pos.git
cd project-pos
```

### 2. Install Dependencies
```bash
npm install
```

### 3. Environment Setup
```bash
# Copy environment template
cp .env.example .env

# à¹à¸à¹‰à¹„à¸‚ .env file à¹ƒà¸«à¹‰à¹€à¸«à¸¡à¸²à¸°à¸ªà¸¡
```

### 4. Environment Variables
à¹à¸à¹‰à¹„à¸‚à¹„à¸Ÿà¸¥à¹Œ `.env` à¸•à¸²à¸¡à¸„à¸§à¸²à¸¡à¸•à¹‰à¸­à¸‡à¸à¸²à¸£:

```env
# Database
MONGODB_URI=mongodb://127.0.0.1:27017/pos_db

# JWT
JWT_SECRET=your-secret-key

# Email (à¸ªà¸³à¸«à¸£à¸±à¸š forgot password)
EMAIL_USER=your-email@gmail.com
EMAIL_PASS=your-app-password
```

## ğŸš€ Usage

### Desktop Application (Electron)
```bash
# Development
npm run dev

# Production
npm start
```

### Web Application
```bash
# Start server
npm run web

# à¹€à¸›à¸´à¸”à¹€à¸šà¸£à¸²à¸§à¹Œà¹€à¸‹à¸­à¸£à¹Œà¹„à¸›à¸—à¸µà¹ˆ
http://localhost:3000
```

### Development Mode
```bash
# Backend development
npm run server:dev

# Run both Desktop and Web
npm run web    # Terminal 1
npm start      # Terminal 2
```

## ğŸŒ Deploy for Web + Desktop

### Local Network Access
```bash
# à¸£à¸±à¸™ server
npm run web

# à¹€à¸‚à¹‰à¸²à¸–à¸¶à¸‡à¸ˆà¸²à¸à¹€à¸„à¸£à¸·à¹ˆà¸­à¸‡à¸­à¸·à¹ˆà¸™à¹ƒà¸™ LAN
http://YOUR_IP:3000
```

### Production Deployment
```bash
# à¸ªà¸³à¸«à¸£à¸±à¸š VM/VPS
npm install --production
npm install -g pm2
pm2 start server/server.js --name "pos-system"
pm2 startup
pm2 save
```

## ğŸ“ Project Structure

```
project-pos/
â”œâ”€â”€ client/                 # Frontend files
â”‚   â”œâ”€â”€ css/               # Stylesheets
â”‚   â”œâ”€â”€ js/                # JavaScript files
â”‚   â”œâ”€â”€ pages/             # HTML pages
â”‚   â”œâ”€â”€ login.html         # Login page
â”‚   â”œâ”€â”€ forgot-password.html
â”‚   â””â”€â”€ reset-password.html
â”œâ”€â”€ server/                # Backend files
â”‚   â”œâ”€â”€ models/            # Mongoose models
â”‚   â”œâ”€â”€ routes/            # API routes
â”‚   â”œâ”€â”€ middleware/        # Express middleware
â”‚   â””â”€â”€ server.js          # Main server file
â”œâ”€â”€ .env.example           # Environment template
â”œâ”€â”€ package.json
â”œâ”€â”€ main.js                # Electron main process
â””â”€â”€ README.md
```

## ğŸ”§ API Endpoints

### Authentication
- `POST /api/auth/register` - à¸ªà¸¡à¸±à¸„à¸£à¸ªà¸¡à¸²à¸Šà¸´à¸
- `POST /api/auth/login` - à¸¥à¹‡à¸­à¸à¸­à¸´à¸™
- `POST /api/auth/forgot-password` - à¸‚à¸­à¸£à¸µà¹€à¸‹à¹‡à¸•à¸£à¸«à¸±à¸ªà¸œà¹ˆà¸²à¸™
- `POST /api/auth/reset-password` - à¸£à¸µà¹€à¸‹à¹‡à¸•à¸£à¸«à¸±à¸ªà¸œà¹ˆà¸²à¸™
- `GET /api/auth/profile` - à¸”à¸¹à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸œà¸¹à¹‰à¹ƒà¸Šà¹‰

### Products
- `GET /api/products` - à¸”à¸¶à¸‡à¸£à¸²à¸¢à¸à¸²à¸£à¸ªà¸´à¸™à¸„à¹‰à¸²
- `POST /api/products` - à¹€à¸à¸´à¹ˆà¸¡à¸ªà¸´à¸™à¸„à¹‰à¸²à¹ƒà¸«à¸¡à¹ˆ
- `GET /api/products/categories` - à¸”à¸¶à¸‡à¸«à¸¡à¸§à¸”à¸«à¸¡à¸¹à¹ˆà¸ªà¸´à¸™à¸„à¹‰à¸²

### Customers  
- `GET /api/customers` - à¸”à¸¶à¸‡à¸£à¸²à¸¢à¸à¸²à¸£à¸¥à¸¹à¸à¸„à¹‰à¸²
- `POST /api/customers` - à¹€à¸à¸´à¹ˆà¸¡à¸¥à¸¹à¸à¸„à¹‰à¸²à¹ƒà¸«à¸¡à¹ˆ
- `POST /api/customers/:id/payment` - à¸šà¸±à¸™à¸—à¸¶à¸à¸à¸²à¸£à¸Šà¸³à¸£à¸°à¹€à¸‡à¸´à¸™

### Sales
- `POST /api/sales/checkout` - à¸Šà¸³à¸£à¸°à¹€à¸‡à¸´à¸™à¹à¸¥à¸°à¸šà¸±à¸™à¸—à¸¶à¸à¸à¸²à¸£à¸‚à¸²à¸¢
- `GET /api/orders` - à¸”à¸¶à¸‡à¸›à¸£à¸°à¸§à¸±à¸•à¸´à¸à¸²à¸£à¸‚à¸²à¸¢
- `GET /api/orders/:id` - à¸”à¸¹à¸£à¸²à¸¢à¸¥à¸°à¹€à¸­à¸µà¸¢à¸”à¸šà¸´à¸¥

## ğŸ” Security Features

- **JWT Authentication** - à¸£à¸°à¸šà¸šà¸¢à¸·à¸™à¸¢à¸±à¸™à¸•à¸±à¸§à¸•à¸™
- **Password Hashing** - à¹€à¸‚à¹‰à¸²à¸£à¸«à¸±à¸ªà¸£à¸«à¸±à¸ªà¸œà¹ˆà¸²à¸™à¸”à¹‰à¸§à¸¢ bcrypt
- **CORS Protection** - à¸›à¹‰à¸­à¸‡à¸à¸±à¸™à¸à¸²à¸£à¹€à¸‚à¹‰à¸²à¸–à¸¶à¸‡à¸‚à¹‰à¸²à¸¡à¹‚à¸”à¹€à¸¡à¸™
- **Role-based Access** - à¸ªà¸´à¸—à¸˜à¸´à¹Œà¸à¸²à¸£à¹€à¸‚à¹‰à¸²à¸–à¸¶à¸‡à¸•à¸²à¸¡à¸šà¸—à¸šà¸²à¸—
- **Input Validation** - à¸•à¸£à¸§à¸ˆà¸ªà¸­à¸šà¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸™à¸³à¹€à¸‚à¹‰à¸²

## ğŸ“§ Email System

à¸£à¸°à¸šà¸šà¸ªà¹ˆà¸‡ email à¸ªà¸³à¸«à¸£à¸±à¸š forgot password:

### Gmail Setup
1. à¹€à¸›à¸´à¸” 2-Factor Authentication
2. à¸ªà¸£à¹‰à¸²à¸‡ App Password: https://myaccount.google.com/apppasswords
3. à¹ƒà¸ªà¹ˆ credentials à¹ƒà¸™ `.env`

```env
EMAIL_USER=your-email@gmail.com
EMAIL_PASS=your-16-digit-app-password
```

## ğŸ› Troubleshooting

### Common Issues

**Email not sending:**
```bash
# à¸•à¸£à¸§à¸ˆà¸ªà¸­à¸š environment variables
npm run web
# à¸”à¸¹ console à¸§à¹ˆà¸² EMAIL_USER/EMAIL_PASS à¹‚à¸«à¸¥à¸”à¸«à¸£à¸·à¸­à¹„à¸¡à¹ˆ
```

**Database connection failed:**
```bash
# à¸•à¸£à¸§à¸ˆà¸ªà¸­à¸š MongoDB
mongosh
# à¸«à¸£à¸·à¸­
mongo
```

**Port already in use:**
```bash
# à¹€à¸›à¸¥à¸µà¹ˆà¸¢à¸™ port à¹ƒà¸™ .env
PORT=3001
```

## ğŸ¤ Contributing

1. Fork the project
2. Create feature branch (`git checkout -b feature/AmazingFeature`)
3. Commit changes (`git commit -m 'Add AmazingFeature'`)
4. Push to branch (`git push origin feature/AmazingFeature`)
5. Open Pull Request

## ğŸ“ License

This project is licensed under the MIT License - see the [LICENSE](LICENSE) file for details.

## ğŸ‘¨â€ğŸ’» Author

**Supasukit**
- GitHub: [@supasukit](https://github.com/supasukit)
- Email: supasukitkleebbai@gmail.com

## ğŸ™ Acknowledgments

- [Electron](https://electronjs.org/) - à¸ªà¸³à¸«à¸£à¸±à¸š desktop application
- [Express.js](https://expressjs.com/) - Web framework
- [MongoDB](https://mongodb.com/) - Database
- [Mongoose](https://mongoosejs.com/) - ODM
- [JWT](https://jwt.io/) - Authentication
- [Nodemailer](https://nodemailer.com/) - Email system